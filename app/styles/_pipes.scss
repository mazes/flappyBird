@mixin performance(){
    // Fixing performance issues
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    -ms-backface-visibility: hidden;
    backface-visibility: hidden;

    -webkit-perspective: 1000;
    -moz-perspective: 1000;
    -ms-perspective: 1000;
    perspective: 1000;

    -webkit-transform: translateZ(0);
    -moz-transform: translateZ(0);
    -ms-transform: translateZ(0);
    -o-transform: translateZ(0);
    transform: translateZ(0);
    display: block;
    // End of fixing performance issues
}

@mixin pipeAnimations(){
    background-color: transparent;
    position: absolute;
    right: -100px;
    width: em(68px);
    overflow: hidden;
    -webkit-animation-name: animPipes; /* Chrome, Safari, Opera */
    -webkit-animation-duration: 6s; /* Chrome, Safari, Opera */
    animation-name: animPipes;
    animation-timing-function: linear;
    animation-duration: 6s;
}

.pTop {
    @include performance();
    @include pipeAnimations();
    top: 0;
    background-image: url('../images/pipe.png');
    background-size: contain;
    background-repeat: repeat-y;
    background-position: center;
}

.pTop:after {
  content: '';
    position: absolute;
    bottom: 0;
    width: 68px;
    height: 33px;
    background-image: url("../images/pipe-down.png");
    background-size: cover;
}

 .pBot:after {
   content: '';
     position: absolute;
     top: 0;
     width: 68px;
     height: 33px;
     background-image: url("../images/pipe-up.png");
     background-size: cover;
 }

.pBot {
    @include performance();
    @include pipeAnimations();
    bottom: 0;
    background-image: url('../images/pipe.png');
    background-size: contain;
    background-repeat: repeat-y;
    background-position: center;
}

@-webkit-keyframes animPipes {
    0%{
        -webkit-transform: translate3d(em(100px),0,0);
        -moz-transform: translate3d(em(100px),0,0);
        -ms-transform: translate3d(em(100px),0,0);
        -o-transform: translate3d(em(100px),0,0);
        transform: translate3d(em(100px),0,0);

    }
    100%{
        -webkit-transform: translate3d(em(-1150px),0,0);
        -moz-transform: translate3d(em(-1150px),0,0);
        -ms-transform: translate3d(em(-1150px),0,0);
        -o-transform: translate3d(em(-1150px),0,0);
        transform: translate3d(em(-1150px),0,0);

    }

}

@keyframes animPipes {
    0%{
        -webkit-transform: translate3d(em(100px),0,0);
        -moz-transform: translate3d(em(100px),0,0);
        -ms-transform: translate3d(em(100px),0,0);
        -o-transform: translate3d(em(100px),0,0);
        transform: translate3d(em(100px),0,0);

    }
    100%{
        -webkit-transform: translate3d(em(-1150px),0,0);
        -moz-transform: translate3d(em(-1150px),0,0);
        -ms-transform: translate3d(em(-1150px),0,0);
        -o-transform: translate3d(em(-1150px),0,0);
        transform: translate3d(em(-1150px),0,0);

    }
}
